---
sectionclass: h2
sectionid: cicd
parent-id: upandrunning
title: Create an Azure DevOps Project
---

In this task, you will create an Azure DevOps pipeline to build and push an image to your ACR registry.

> **Hint** The source code repositories on GitHub contain an [`azure-pipelines.yml`](https://github.com/Azure/azch-captureorder/blob/master/azure-pipelines.yml) definition that you can use with Azure Pipelines to build and push the image.

### Tasks

#### Fork the captureorder project on GitHub

{% collapsible %}

You'll need to work on your own copy of the code. Fork the project [https://github.com/Azure/azch-captureorder/](https://github.com/Azure/azch-captureorder/) on GitHub.

![Fork on GitHub](media/cicd2/01-fork_github.png)

{% endcollapsible %}

#### Create an Azure DevOps account

{% collapsible %}

Go to <https://dev.azure.com> and sign-in with your Azure subscription credentials.

If this is your first time to provision an Azure DevOps account, you'll be taken through a quick wizard to create a new organization.

![Getting started with Azure DevOps](media/cicd/getstarted-devops.png)

{% endcollapsible %}

#### Create a project on Azure DevOps

{% collapsible %}

Create a new private project, call it **captureorder**

![Create Azure DevOps project](media/cicd2/03-create_project.png)

{% endcollapsible %}

#### Create Docker service connection

Now that you have a project, you need to set it up to authenticate to your Azure Container Registry through a [service connection](https://docs.microsoft.com/en-us/azure/devops/pipelines/library/service-endpoints?view=azure-devops&tabs=yaml#create-new).

{% collapsible %}

Go to your project settings page.

![Project settings](media/cicd2/04.1-project_settings.png)

Open the service connections page from the project settings page and create a new service connection.

![Create a service connection](media/cicd2/04.2-create_service_connection.png)

Add a Docker Registry service connection. Select **Azure Container Registry** and pick your ACR from the list. Name the connection `containerRegistryConnection`.

![Create a service connection](media/cicd2/04.3-create_acr_connection.png)

{% endcollapsible %}

#### Create a pipeline

{% collapsible %}

Go back to pipelines and create a new pipeline.

![Create a pipeline](media/cicd2/07-create_pipeline.png)

 Walk through the steps of the wizard by first selecting **GitHub** as the location of your source code.

![Where is your code?](media/cicd2/07-where_is_your_code.png)

You might be redirected to GitHub to sign in. If so, enter your GitHub credentials. When the list of repositories appears, select your repository.

![Select repository](media/cicd2/08-select_repository.png)

You might be redirected to GitHub to install the Azure Pipelines app. If so, select Approve and install.

![Install GitHub app](media/cicd2/09-install_github_app.png)

The source code repository already contains a multi-stage pipeline, which is picked up by the configuration.

Because this workshop has been abbreviated, we are going to modify the pipeline to remove the deployment stage and related content. You'll also want to update the **acrEndpoint** variable with your ACR registry's unique name:

![Review pipeline](media/cicd2/10-review_pipeline.png)

When finished, your pipeline should look like this (but with your unique ACR name):

![Review pipeline](media/cicd2/10.1-review_pipeline.png)

{% endcollapsible %}

#### Save and run your pipeline

After making changes to your pipeline, click **Save and run**.

You will be able to view the status of the pipeline execution.

{% collapsible %}

![Run the pipeline](media/cicd2/11-run_pipeline.png)

The build stage will build the container and push it to Azure Container Registry.

![Build stage](media/cicd2/11.1-build_stage.png)

{% endcollapsible %}

> **Resources**
> - [https://docs.microsoft.com/en-us/azure/devops/pipelines/process/environments?view=azure-devops](https://docs.microsoft.com/en-us/azure/devops/pipelines/process/environments?view=azure-devops)
> - [https://docs.microsoft.com/en-us/azure/devops/pipelines/yaml-schema?view=azure-devops&tabs=schema](https://docs.microsoft.com/en-us/azure/devops/pipelines/yaml-schema?view=azure-devops&tabs=schema)
> - [https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/?view=azure-devops](https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/?view=azure-devops)
